/**
 * flicker.js
 *
 * Author:        Chris Humboldt
 * Last Edited:   3 October 2013
 * Edited By:   	Chris Humboldt
 */(function(e){var t=function(){var t=this;t.settings={block_text:!0,inner_width:!1,theme:"light",movement_type:"slide"};t.init=function(n,r){t.settings=e.extend(t.settings,r);var i=n,s=0,o=0,u=1;i.find("ul:first").addClass("flicks");i.find("li:first").addClass("first-flick");var a=i.data("flick-animation");a&&a.length>0&&a=="slide"&&(t.settings.block_text=!1);var f=i.data("theme");f&&f.length>0?i.addClass("flicker-theme-"+f):i.addClass("flicker-theme-"+t.settings.theme);var l=i.data("block-text");l&&l.length>0&&l=="no"&&(t.settings.block_text=!1);i.find("li").each(function(){s++;e(this).wrapInner('<div class="flick-inner"><div class="flick-content"></div></div>');$flick_block_text=e(this).data("block-text");if($flick_block_text&&$flick_block_text.length>0){if($flick_block_text!="no"){e(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>');e(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')}}else if(t.settings.block_text==1){e(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>');e(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')}var n=e(this).data("background");n&&n.length>0&&e(this).css("background-image","url(webplate/extras/images/"+n+")")});var c=100*s,h=100/s;i.find("ul").css({width:c+"%"});i.find("li").css({width:h+"%"});$dot_nav_html='<div class="dot-navigation"><ul>';while(o<s){o++;o==1?$dot_nav_html+='<li><div class="dot active"></div></li>':$dot_nav_html+='<li><div class="dot"></div></li>'}$dot_nav_html+="</ul></div>";i.prepend($dot_nav_html);i.find(".dot-navigation li").on("click",function(){alert(e(this).index())})}};e.fn.flicker=function(n){var r=this.length;return this.each(function(i){var s=e(this),o="flicker"+(r>1?"-"+ ++i:""),u=(new t).init(s,n);s.data(o,u).data("key",o)})}})(jQuery);