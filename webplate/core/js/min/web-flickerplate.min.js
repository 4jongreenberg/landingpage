/**
 * flickerplate.js
 *
 * Author:        Chris Humboldt
 * Last Edited:   7 October 2013
 * Edited By:   	Chris Humboldt
 */(function(e){var t=function(){var t=this,n=0,r=!1,i=!1,s=!1,o=!1,u=0,a=0;t.settings={block_text:!0,inner_width:!1,theme:"light",flick_animation:"slide",auto_flick:!0,speed:8,dot_navigation:!0};t.init=function(i,s){t.settings=e.extend(t.settings,s);r=i;r.find("ul:first").addClass("flicks");r.find("li:first").addClass("first-flick");r.attr("data-flick-position",n);var f=r.data("flick-animation");f&&f.length>0&&f=="slide"&&(t.settings.flick_animation="slide");var l=r.data("theme");l&&l.length>0?r.addClass("flicker-theme-"+l):r.addClass("flicker-theme-"+t.settings.theme);var c=r.data("block-text");c&&c.length>0&&c=="no"&&(t.settings.block_text=!1);r.find("li").each(function(){u++;e(this).wrapInner('<div class="flick-inner"><div class="flick-content"></div></div>');$flick_block_text=e(this).data("block-text");if($flick_block_text&&$flick_block_text.length>0){if($flick_block_text!="no"){e(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>');e(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')}}else if(t.settings.block_text==1){e(this).find(".flick-title").wrapInner('<span class="flick-block-text"></span>');e(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"></span>')}var n=e(this).data("background");n&&n.length>0&&e(this).css("background-image","url(webplate/extras/images/"+n+")")});if(t.settings.dot_navigation==1){$dot_nav_html='<div class="dot-navigation"><ul>';while(a<u){a++;a==1?$dot_nav_html+='<li><div class="dot active"></div></li>':$dot_nav_html+='<li><div class="dot"></div></li>'}$dot_nav_html+="</ul></div>";r.prepend($dot_nav_html);r.find(".dot-navigation li").on("click",function(){t.move_flicker(e(this).index());t.auto_flick_reset()})}o=t.settings.speed*1e3;$data_auto_flick=r.data("auto-flick");$data_auto_flick&&$data_auto_flick.length>0&&($data_auto_flick!="no"?t.settings.auto_flick=!0:t.settings.auto_flick=!1);t.auto_flick_start()};t.auto_flick_start=function(){t.settings.auto_flick==1&&(t.flicker_auto=setInterval(t.auto_flick,o))};t.auto_flick=function(){n++;n==u&&(n=0);t.move_flicker(n)};t.auto_flick_stop=function(){t.flicker_auto=clearInterval(t.flicker_auto)};t.auto_flick_reset=function(){t.auto_flick_stop();t.auto_flick_start()};t.move_flicker=function(e){n=e;t.settings.flick_animation=="slide"&&r.find("ul.flicks").attr({style:"-webkit-transform:translate3d(-"+n+"%, 0, 0);-o-transform:translate3d(-"+n+"%, 0, 0);-moz-transform:translate3d(-"+n+"%, 0, 0);transform:translate3d(-"+n+"%, 0, 0)"});r.find(".dot-navigation .dot.active").removeClass("active");r.find(".dot:eq("+n+")").addClass("active");r.attr("data-flick-position",n)}};e.fn.flicker=function(n){var r=this.length;return this.each(function(i){var s=e(this),o="flickerplate"+(r>1?"-"+ ++i:""),u=(new t).init(s,n);s.data(o,u).data("key",o)})}})(jQuery);